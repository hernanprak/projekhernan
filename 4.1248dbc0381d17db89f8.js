(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Iab2:function(t,e,i){var n,a;void 0===(a="function"==typeof(n=function(){"use strict";function e(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){c(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,c){var l=a.URL||a.webkitURL,b=document.createElement("a");b.download=o=o||t.name||"download",b.rel="noopener","string"==typeof t?(b.href=t,b.origin===location.origin?n(b):i(b.href)?e(t,o,c):n(b,b.target="_blank")):(b.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(b.href)},4e4),setTimeout(function(){n(b)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,o){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),a);else if(i(t))e(t,a,o);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout(function(){n(c)})}}:function(t,i,n,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,n);var l="application/octet-stream"===t.type,b=/constructor/i.test(a.HTMLElement)||a.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||l&&b||o)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var t=s.result;t=r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},s.readAsDataURL(t)}else{var d=a.URL||a.webkitURL,u=d.createObjectURL(t);c?c.location=u:location.href=u,c=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});a.saveAs=c.saveAs=c,t.exports=c})?n.apply(e,[]):n)||(t.exports=a)},jkDv:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminModule",function(){return j});var n=i("ofXK"),a=i("fXoL"),o=i("H+bZ"),c=i("tyNb"),l=i("/t3+"),b=i("bTqV"),r=i("NFeN"),s=i("XhcP"),d=i("MutI"),u=i("FKr1");function p(t,e){if(1&t&&(a.Ub(0,"mat-list-item",13),a.Ub(1,"mat-icon",14),a.yc(2),a.Tb(),a.Ub(3,"h3",15),a.yc(4),a.Tb(),a.Tb()),2&t){const t=e.$implicit;a.Db(2),a.zc(t.icon),a.Db(2),a.zc(t.name)}}function f(t,e){if(1&t&&(a.Ub(0,"div"),a.Ub(1,"h3",11),a.yc(2),a.Tb(),a.xc(3,p,5,2,"mat-list-item",12),a.Tb()),2&t){const t=a.fc().$implicit;a.Db(2),a.zc(t.group),a.Db(1),a.kc("ngForOf",t.children)}}function h(t,e){if(1&t&&(a.Ub(0,"mat-list-item",16),a.Ub(1,"mat-icon",14),a.yc(2),a.Tb(),a.Ub(3,"h3",15),a.yc(4),a.Tb(),a.Tb()),2&t){const t=a.fc().$implicit;a.Db(2),a.zc(t.icon),a.Db(2),a.zc(t.name)}}function g(t,e){if(1&t&&(a.Ub(0,"div"),a.xc(1,f,4,2,"div",9),a.xc(2,h,5,2,"mat-list-item",10),a.Tb()),2&t){const t=e.$implicit;a.Db(1),a.kc("ngIf",null!=t.children),a.Db(1),a.kc("ngIf",null==t.children)}}let m=(()=>{class t{constructor(t,e){this.api=t,this.router=e,this.menu=[{name:"Dashboard",icon:"space_dashboard",url:"/admin/dashboard"},{group:"Menu Group",children:[{name:"Product",icon:"production_quantity_limits",url:"/admin/product"}]}]}ngOnInit(){this.checkLogin()}checkLogin(){this.api.get("bookswithauth/status").subscribe(t=>{},t=>{this.router.navigate(["/login"])})}logout(){confirm("Keluar aplikasi?")&&(localStorage.removeItem("appToken"),window.location.reload())}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(o.a),a.Ob(c.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-admin"]],decls:19,vars:5,consts:[["color","primary",1,"example-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["mat-button","",3,"click"],[1,"example-container"],["mode","side","opened","",1,"sidenav-left",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],[4,"ngFor","ngForOf"],[2,"padding","20px","background-color","#ccc"],[4,"ngIf"],["routerLink","/admin/dashboard",4,"ngIf"],["matSubheader",""],["routerLink","/admin/product",4,"ngFor","ngForOf"],["routerLink","/admin/product"],["matListIcon",""],["matLine",""],["routerLink","/admin/dashboard"]],template:function(t,e){if(1&t){const t=a.Vb();a.Sb(0),a.Ub(1,"mat-toolbar",0),a.Ub(2,"button",1),a.bc("click",function(){return a.rc(t),a.pc(14).toggle()}),a.Ub(3,"mat-icon"),a.yc(4,"menu"),a.Tb(),a.Tb(),a.Ub(5,"span"),a.yc(6,"HernanMenu"),a.Tb(),a.Pb(7,"div",2),a.Ub(8,"small"),a.yc(9,"Admin"),a.Tb(),a.Ub(10,"button",3),a.bc("click",function(){return e.logout()}),a.yc(11,"Logout"),a.Tb(),a.Tb(),a.Ub(12,"mat-sidenav-container",4),a.Ub(13,"mat-sidenav",5,6),a.Ub(15,"mat-nav-list"),a.xc(16,g,3,2,"div",7),a.Tb(),a.Tb(),a.Ub(17,"mat-sidenav-content",8),a.Pb(18,"router-outlet"),a.Tb(),a.Tb(),a.Rb()}2&t&&(a.Db(13),a.kc("position","start")("fixedInViewport",!0)("fixedTopGap",65)("fixedBottomGap",0),a.Db(3),a.kc("ngForOf",e.menu))},directives:[l.a,b.a,r.a,s.b,s.a,d.e,n.j,s.c,c.d,n.k,d.d,d.b,c.b,d.a,u.j],styles:[""]}),t})(),k=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(t,e){1&t&&a.Pb(0,"router-outlet")},directives:[c.d],styles:[""]}),t})();var U=i("hctd"),T=i("3Pt+"),y=i("Iab2"),v=i("0IaG");let w=(()=>{class t{constructor(t,e,i){this.api=t,this.dialogRef=e,this.dialogData=i}ngOnInit(){console.log(this.dialogData)}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],console.log(this.selectedFile))}uploadFile(){let t=new FormData;t.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(t).subscribe(t=>{this.updateProduct(t),console.log(t)},t=>{this.loadingUpload=!1,alert("Gagal mengunggah file")})}updateProduct(t){1==t.status?(this.updateBook(t),alert("File berhasil diunggah"),this.loadingUpload=!1,this.dialogRef.close()):alert(t.message)}updateBook(t){this.api.put("books/"+this.dialogData.id,{url:t.url}).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(o.a),a.Ob(v.f),a.Ob(v.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-file-uploader"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-action","","align","right"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t){const t=a.Vb();a.Ub(0,"h1",0),a.yc(1,"Unggah File"),a.Tb(),a.Ub(2,"div",1),a.Ub(3,"div",2),a.bc("click",function(){return a.rc(t),a.pc(7).click()}),a.Ub(4,"span"),a.yc(5),a.Tb(),a.Tb(),a.Ub(6,"input",3,4),a.bc("change",function(t){return e.onFileChange(t)}),a.Tb(),a.Tb(),a.Ub(8,"div",5),a.Ub(9,"button",6),a.yc(10,"Batal"),a.Tb(),a.Ub(11,"button",7),a.bc("click",function(){return e.uploadFile()}),a.yc(12),a.Tb(),a.Tb()}2&t&&(a.Db(5),a.zc(e.selectedFile?e.selectedFile.name:"Pilih File"),a.Db(6),a.kc("disabled",e.loadingUpload),a.Db(1),a.zc(e.loadingUpload?"uploading...":"Upload"))},directives:[v.g,v.d,b.a,v.c],styles:[""]}),t})();var D=i("kmnG"),x=i("qFsG");let I=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.data=e,this.api=i}ngOnInit(){}saveData(){this.loading=!0,null==this.data.id?this.api.post("bookswithauth",this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat menyimpan data")}):this.api.put("bookswithauth/"+this.data.id,this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat memperbarui data")})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(v.f),a.Ob(v.a),a.Ob(o.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-product-detail"]],decls:24,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-action","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(a.Ub(0,"h3",0),a.yc(1," Detail Product\n"),a.Tb(),a.Ub(2,"div",1),a.Ub(3,"mat-form-field",2),a.Ub(4,"mat-label"),a.yc(5,"Nama Designl"),a.Tb(),a.Ub(6,"input",3),a.bc("ngModelChange",function(t){return e.data.title=t}),a.Tb(),a.Tb(),a.Ub(7,"mat-form-field",2),a.Ub(8,"mat-label"),a.yc(9,"Ukuran"),a.Tb(),a.Ub(10,"input",3),a.bc("ngModelChange",function(t){return e.data.author=t}),a.Tb(),a.Tb(),a.Ub(11,"mat-form-field",2),a.Ub(12,"mat-label"),a.yc(13,"Stock"),a.Tb(),a.Ub(14,"input",3),a.bc("ngModelChange",function(t){return e.data.publisher=t}),a.Tb(),a.Tb(),a.Ub(15,"mat-form-field",2),a.Ub(16,"mat-label"),a.yc(17,"Harga"),a.Tb(),a.Ub(18,"input",3),a.bc("ngModelChange",function(t){return e.data.year=t}),a.Tb(),a.Tb(),a.Tb(),a.Ub(19,"div",4),a.Ub(20,"button",5),a.yc(21,"Batal"),a.Tb(),a.Ub(22,"button",6),a.bc("click",function(){return e.saveData()}),a.yc(23),a.Tb(),a.Tb()),2&t&&(a.Db(6),a.kc("ngModel",e.data.title),a.Db(4),a.kc("ngModel",e.data.author),a.Db(4),a.kc("ngModel",e.data.publisher),a.Db(4),a.kc("ngModel",e.data.year),a.Db(4),a.kc("disabled",e.loading),a.Db(1),a.zc(e.loading?"Menyimpan..":"Simpan"))},directives:[v.g,v.d,D.b,D.e,x.b,T.c,T.i,T.k,b.a,v.c],styles:[""]}),t})();var O=i("Xa2L"),F=i("Wp6s");function L(t,e){1&t&&(a.Ub(0,"div",2),a.Pb(1,"mat-spinner"),a.Tb())}function M(t,e){if(1&t){const t=a.Vb();a.Ub(0,"button",12),a.bc("click",function(){a.rc(t);const e=a.fc().$implicit;return a.fc(2).downloadFile(e)}),a.Ub(1,"mat-icon"),a.yc(2,"download"),a.Tb(),a.Tb()}}function P(t,e){if(1&t){const t=a.Vb();a.Ub(0,"tr"),a.Ub(1,"td"),a.xc(2,M,3,0,"button",9),a.Tb(),a.Ub(3,"td"),a.yc(4),a.Tb(),a.Ub(5,"td"),a.yc(6),a.Tb(),a.Ub(7,"td"),a.yc(8),a.Tb(),a.Ub(9,"td"),a.yc(10),a.Tb(),a.Ub(11,"td"),a.yc(12),a.Tb(),a.Ub(13,"td"),a.yc(14),a.Tb(),a.Ub(15,"td"),a.yc(16),a.Tb(),a.Ub(17,"td",7),a.Ub(18,"button",10),a.bc("click",function(){a.rc(t);const i=e.$implicit;return a.fc(2).Uploadfile(i)}),a.yc(19,"Upload"),a.Tb(),a.Ub(20,"button",10),a.bc("click",function(){a.rc(t);const i=e.$implicit,n=e.index;return a.fc(2).ProductDetail(i,n)}),a.yc(21,"Edit"),a.Tb(),a.Ub(22,"button",11),a.bc("click",function(){a.rc(t);const i=e.$implicit,n=e.index;return a.fc(2).DeleteProduct(i.id,n)}),a.yc(23),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=e.$implicit,i=e.index,n=a.fc(2);a.Db(2),a.kc("ngIf",""!=t.url),a.Db(2),a.zc(i+1),a.Db(2),a.zc(t.title),a.Db(2),a.zc(t.author),a.Db(2),a.zc(t.publisher),a.Db(2),a.zc(t.year),a.Db(2),a.zc(t.isbn),a.Db(2),a.zc(t.price),a.Db(6),a.kc("disabled",n.loadingDelete[i]),a.Db(1),a.zc(n.loadingDelete[i]?"Menghapus..":"Delete")}}function R(t,e){if(1&t){const t=a.Vb();a.Ub(0,"mat-card"),a.Ub(1,"mat-card-header"),a.Ub(2,"mat-card-title"),a.yc(3),a.Tb(),a.Tb(),a.Ub(4,"mat-card-content"),a.Ub(5,"div",3),a.Pb(6,"span",4),a.Ub(7,"button",5),a.bc("click",function(){return a.rc(t),a.fc().ProductDetail({},-1)}),a.yc(8,"Tambah Product"),a.Tb(),a.Tb(),a.Ub(9,"table",6),a.Ub(10,"thead"),a.Pb(11,"th"),a.Ub(12,"th"),a.yc(13,"No"),a.Tb(),a.Ub(14,"th"),a.yc(15,"Nama Design"),a.Tb(),a.Ub(16,"th"),a.yc(17,"Ukuran"),a.Tb(),a.Ub(18,"th"),a.yc(19,"Stock"),a.Tb(),a.Ub(20,"th"),a.yc(21,"Harga"),a.Tb(),a.Pb(22,"th",7),a.Tb(),a.Ub(23,"tbody"),a.xc(24,P,24,10,"tr",8),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=a.fc();a.Db(3),a.zc(t.title),a.Db(21),a.kc("ngForOf",t.books)}}const z=[{path:"",component:m,children:[{path:"dashboard",component:k},{path:"product",component:(()=>{class t{constructor(t,e){this.dialog=t,this.api=e,this.book={},this.books=[],this.loadingDelete={}}ngOnInit(){this.title="Product",this.book={title:"angular",author:"rijal",publisher:"saya",year:2021,isbn:"564545",price:1e6},this.getBooks()}getBooks(){this.loading=!0,this.api.get("bookswithauth").subscribe(t=>{this.books=t,this.loading=!1},t=>{this.loading=!1})}ProductDetail(t,e){this.dialog.open(I,{width:"400px",data:t}).afterClosed().subscribe(i=>{i&&(-1==e?this.books.push(i):this.books[e]=t)})}DeleteProduct(t,e){confirm("Delete item?")&&(this.loadingDelete[e]=!0),this.api.delete("bookswithauth/"+t).subscribe(t=>{this.books.splice(e,1),this.loadingDelete[e]=!1},t=>{this.loadingDelete[e]=!1,alert("Tidak dapat menghapus data")})}Uploadfile(t){this.dialog.open(w,{width:"500px",data:t}).afterClosed().subscribe(t=>{})}downloadFile(t){y.saveAs("http://api.sunhouse.co.id/bookstore/"+t.url)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(v.b),a.Ob(o.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px;","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],["align","right"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","accent",3,"disabled","click"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(a.xc(0,L,2,0,"div",0),a.xc(1,R,25,2,"mat-card",1)),2&t&&(a.kc("ngIf",e.loading),a.Db(1),a.kc("ngIf",!e.loading))},directives:[n.k,O.b,F.a,F.c,F.e,F.b,b.a,n.j,r.a],styles:[""]}),t})()}]}];let j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({imports:[[n.c,c.c.forChild(z),U.a,T.e]]}),t})()}}]);